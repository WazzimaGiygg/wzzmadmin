
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações do Site - WZZM Admin</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            color: #333;
        }
        .mdl-card {
            width: 100%;
            max-width: 800px; /* Limita a largura do card para melhor leitura */
            margin: 20px auto; /* Centraliza o card na página */
            padding: 20px;
            box-sizing: border-box; /* Inclui padding na largura total */
        }
        .mdl-card__title {
            color: #fff;
            background-color: #3f51b5; /* Cor primária do MDL */
            padding: 16px;
            font-size: 24px;
            line-height: 1.2;
        }
        .mdl-card__supporting-text {
            padding: 20px;
        }
        .mdl-textfield {
            width: 100%;
            margin-bottom: 20px; /* Espaçamento entre os campos */
        }
        .mdl-switch {
            margin-bottom: 20px;
            display: flex; /* Para alinhar melhor o texto e o switch */
            align-items: center;
        }
        .mdl-button {
            margin-top: 10px;
        }
        /* Estilos adicionais para cabeçalhos e parágrafos dentro do card */
        .mdl-card__supporting-text h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #424242;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .mdl-card__supporting-text p {
            margin-bottom: 20px;
            line-height: 1.5;
        }
    </style>
</head>
<body>

    <div class="mdl-card mdl-shadow--4dp">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title-text">Configurações do Site</h2>
        </div>
        <div class="mdl-card__supporting-text">
            <p>Gerencie as configurações gerais do site WZZM.</p>

            <h3>Informações Gerais</h3>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="site-name" value="WZZM Oficial">
                <label class="mdl-textfield__label" for="site-name">Nome do Site</label>
            </div>

            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="email" id="admin-email" value="contato@wzzm.org">
                <label class="mdl-textfield__label" for="admin-email">E-mail do Administrador Principal</label>
            </div>

            <h3>Opções de Conteúdo</h3>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <textarea class="mdl-textfield__input" type="text" rows="3" id="welcome-message">Bem-vindo ao painel administrativo da WZZM!</textarea>
                <label class="mdl-textfield__label" for="welcome-message">Mensagem de Boas-Vindas (Painel)</label>
            </div>

            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="enable-comments">
                <input type="checkbox" id="enable-comments" class="mdl-switch__input" checked>
                <span class="mdl-switch__label">Habilitar comentários em artigos</span>
            </label>
            <br>
            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="maintenance-mode">
                <input type="checkbox" id="maintenance-mode" class="mdl-switch__input">
                <span class="mdl-switch__label">Modo de Manutenção (Site Offline)</span>
            </label>

            <h3>Chaves de API</h3>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="analytics-api-key" value="SUA_CHAVE_DE_ANALYTICS_AQUI">
                <label class="mdl-textfield__label" for="analytics-api-key">Chave da API do Google Analytics</label>
            </div>

            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="maps-api-key" value="SUA_CHAVE_DE_MAPS_AQUI">
                <label class="mdl-textfield__label" for="maps-api-key">Chave da API do Google Maps</label>
            </div>

            <div class="mdl-card__actions mdl-card--border">
                <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">
                    <i class="material-icons">save</i> Salvar Configurações
                </button>
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect">
                    <i class="material-icons">refresh</i> Redefinir
                </button>
            </div>
        </div>
    </div>

    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script>
        // Futuramente, você adicionaria aqui o JavaScript para:
        // 1. Carregar as configurações atuais do Firestore (ou outro banco de dados)
        // 2. Preencher os campos do formulário com esses valores
        // 3. Salvar as alterações de volta no Firestore quando o botão "Salvar Configurações" for clicado.

        // Exemplo: Como obter os valores (em um cenário real, você buscaria do DB)
        document.querySelector('.mdl-button--colored').addEventListener('click', () => {
            const siteName = document.getElementById('site-name').value;
            const adminEmail = document.getElementById('admin-email').value;
            const welcomeMessage = document.getElementById('welcome-message').value;
            const enableComments = document.getElementById('enable-comments').checked;
            const maintenanceMode = document.getElementById('maintenance-mode').checked;
            const analyticsApiKey = document.getElementById('analytics-api-key').value;
            const mapsApiKey = document.getElementById('maps-api-key').value;

            console.log("Configurações a serem salvas:");
            console.log("Nome do Site:", siteName);
            console.log("E-mail Admin:", adminEmail);
            console.log("Mensagem Boas-Vindas:", welcomeMessage);
            console.log("Habilitar Comentários:", enableComments);
            console.log("Modo Manutenção:", maintenanceMode);
            console.log("Chave Analytics:", analyticsApiKey);
            console.log("Chave Maps:", mapsApiKey);

            // AQUI VOCÊ ADICIONARIA A LÓGICA DO FIREBASE PARA SALVAR ESTES DADOS
            // Exemplo (requer inicialização do Firebase e importação do Firestore no index.html que carrega este iframe):
            /*
            const firestore = parent.firebase.firestore(); // Acessa o firestore do pai (index.html)
            firestore.collection('settings').doc('general').set({
                siteName: siteName,
                adminEmail: adminEmail,
                welcomeMessage: welcomeMessage,
                enableComments: enableComments,
                maintenanceMode: maintenanceMode,
                analyticsApiKey: analyticsApiKey,
                mapsApiKey: mapsApiKey,
                lastUpdated: parent.firebase.firestore.FieldValue.serverTimestamp()
            }, { merge: true }) // merge: true para atualizar campos existentes e adicionar novos
            .then(() => {
                alert('Configurações salvas com sucesso!');
            })
            .catch((error) => {
                console.error("Erro ao salvar configurações:", error);
                alert('Erro ao salvar configurações. Verifique o console.');
            });
            */
        });

        document.querySelector('.mdl-button--raised:not(.mdl-button--colored)').addEventListener('click', () => {
             // Lógica para redefinir o formulário (em um cenário real, você recarregaria os dados do DB)
             document.getElementById('site-name').value = "WZZM Oficial";
             document.getElementById('admin-email').value = "contato@wzzm.org";
             document.getElementById('welcome-message').value = "Bem-vindo ao painel administrativo da WZZM!";
             document.getElementById('enable-comments').checked = true;
             document.getElementById('maintenance-mode').checked = false;
             document.getElementById('analytics-api-key').value = "SUA_CHAVE_DE_ANALYTICS_AQUI";
             document.getElementById('maps-api-key').value = "SUA_CHAVE_DE_MAPS_AQUI";

             // Para que o MDL atualize a aparência dos campos após redefinir os valores
             if (window.componentHandler) {
                window.componentHandler.upgradeAllRegistered();
             }
             alert('Campos redefinidos para os valores padrão (simulado).');
        });

        // Exemplo de como carregar dados (você chamaria isso no início do script)
        function loadCurrentSettings() {
            // AQUI VOCÊ ADICIONARIA A LÓGICA DO FIREBASE PARA CARREGAR DADOS
            /*
            const firestore = parent.firebase.firestore();
            firestore.collection('settings').doc('general').get()
                .then((doc) => {
                    if (doc.exists) {
                        const data = doc.data();
                        document.getElementById('site-name').value = data.siteName || "WZZM Oficial";
                        document.getElementById('admin-email').value = data.adminEmail || "contato@wzzm.org";
                        document.getElementById('welcome-message').value = data.welcomeMessage || "Bem-vindo ao painel administrativo da WZZM!";
                        document.getElementById('enable-comments').checked = data.enableComments !== undefined ? data.enableComments : true;
                        document.getElementById('maintenance-mode').checked = data.maintenanceMode || false;
                        document.getElementById('analytics-api-key').value = data.analyticsApiKey || "SUA_CHAVE_DE_ANALYTICS_AQUI";
                        document.getElementById('maps-api-key').value = data.mapsApiKey || "SUA_CHAVE_DE_MAPS_AQUI";

                        // Para que o MDL atualize a aparência dos campos
                        if (window.componentHandler) {
                            window.componentHandler.upgradeAllRegistered();
                        }
                    } else {
                        console.log("Nenhuma configuração encontrada, usando valores padrão.");
                    }
                })
                .catch((error) => {
                    console.error("Erro ao carregar configurações:", error);
                });
            */
        }

        // Chame a função para carregar as configurações ao iniciar a página
        // loadCurrentSettings(); // Descomente quando tiver Firebase configurado para carregamento
    </script>
</body>
</html>
